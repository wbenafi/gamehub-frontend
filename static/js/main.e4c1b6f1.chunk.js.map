{"version":3,"sources":["env.js","common/APIUtils.js","common/notificationsAPI.js","common/notificationsManager.js","games/GamesAPI.js","games/GameItem.jsx","games/Games.jsx","games/Game.jsx","main/Main.jsx","App.js","reportWebVitals.js","index.js"],"names":["API_URL","APIUtils","url","query","response","undefined","options","method","referrerPolicy","mode","headers","fetch","createQuery","body","JSON","stringify","json","Object","entries","filter","item","map","join","NotificationsAPI","subscription","console","log","POST","module","navigator","serviceWorker","register","NotificationManager","Promise","resolve","ready","then","serviceWorkerRegistration","pushManager","getSubscription","catch","error","window","ServiceWorkerRegistration","prototype","message","status","warn","browserSupport","checkBrowserSupport","Notification","requestPermission","permission","urlBase64ToUint8Array","base64String","base64","repeat","length","replace","rawData","atob","outputArray","Uint8Array","i","charCodeAt","subscribed","askNotificationPermission","permisson","subscribe","userVisibleOnly","applicationServerKey","sendSubscription","toJSON","deleteSubscription","unsubscribe","GamesAPI","id","GET","quantity","games","getGames","ok","data","sort","a","b","discounts","values","stores","store","discount","keys","Number","slice","forEach","game","fromEntries","price","GameItem","props","Paper","className","elevation","src","image_url","alt","name","style","display","flexDirection","width","height","to","href","stores_urls","target","rel","toUpperCase","gamesWithoutFilter","Games","useState","setFilter","setGames","gamesDiscount","setGamesDiscount","loadingGames","setLoadingGames","useEffect","newGames","getGamesWithDiscount","discountGames","orderGamesStoresByPrice","toLowerCase","includes","Array","justifyContent","flexWrap","OutlinedInput","placeholder","onChange","e","value","variant","endAdornment","InputAdornment","position","margin","minWidth","Game","setGame","loading","setLoading","match","params","get","gameInfo","getGame","hltb","hltb_game_id","Average","metacritic","metacritic_url","score","metascore","userscore","info","textDecoration","toFixed","Main","React","checked","setChecked","prev","AppBar","Toolbar","srcSet","Typography","marginRight","Switch","size","color","backgroundColor","paddingBottom","path","exact","component","App","theme","createMuiTheme","palette","primary","main","secondary","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e4c1b6f1.chunk.js","sourcesContent":["export const API_URL = \"https://gamehub-service.herokuapp.com\"","export default class APIUtils {\n\n    static async GET(url, query) {\n        let response = undefined\n        \n        let options = {\n            method: 'GET',\n            referrerPolicy: 'no-referrer',\n            mode: 'cors',\n            headers: {}\n        }\n\n        try {\n            response = await fetch(query ? `${url}?${APIUtils.createQuery(query)}` : url, options)\n        } catch (error) {\n            return error\n        }\n        return response\n    }\n\n    static async POST(url, body) {\n        let options = {\n            method: 'POST',\n            mode: 'cors',\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(body)\n        }\n        let response = undefined;\n        try {\n            response = await fetch(url, options)\n        } catch (error) {\n            return error\n        }\n        return response\n    }\n\n    static async PATCH(url, body) {\n        let options = {\n            method: 'PATCH',\n            mode: 'cors',\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(body)\n        }\n\n        let response = undefined;\n        try {\n            response = await fetch(url, options)\n        } catch (error) {\n            return error\n        }\n        return response\n    }\n\n    static async DELETE(url, query) {\n        let response = undefined\n        \n        let options = {\n            method: 'DELETE',\n            referrerPolicy: 'no-referrer',\n            mode: 'cors',\n            headers: {}\n        }\n\n        try {\n            response = await fetch(query ? `${url}?${APIUtils.createQuery(query)}` : url, options)\n        } catch (error) {\n            return error\n        }\n        return response\n    }\n\n    static createQuery(json) {\n        const query = Object.entries(json).filter((item) => item[1] !== undefined && item[1] !== \"\" && item[1] !== null).map(item => item.join(\"=\")).join(\"&\")\n        return query\n    }\n}","import { API_URL } from \"../env\"\nimport APIUtils from \"./APIUtils\"\n\n\nclass NotificationsAPI {\n\n    static module = \"notifications\"\n\n    static sendSubscription(subscription) {\n        console.log(subscription)\n        APIUtils.POST(`${API_URL}/subscription/`, subscription)\n    }\n\n    static deleteSubscription(subscription) {\n        console.log(subscription)\n    }\n}\n\nexport default NotificationsAPI","import NotificationsAPI from \"./notificationsAPI\";\n\n\nnavigator.serviceWorker.register('./service-worker.js')\n\nclass NotificationManager {\n\n    static get subscribed() {\n        return new Promise((resolve) => {\n            if (navigator.serviceWorker && navigator.serviceWorker.ready) {\n                navigator.serviceWorker.ready.then(\n                    (serviceWorkerRegistration) => {\n                        serviceWorkerRegistration.pushManager.getSubscription().then(\n                            (subscription) => {\n                                if (subscription) {\n                                    resolve(true)\n                                }\n                                else {\n                                    resolve(false)\n                                }\n                            }\n                        ).catch(\n                            error => resolve(false)\n                        )\n                    }\n                ).catch(\n                    error => resolve(false)\n                )\n            }\n            else {\n                console.log(\"a.no\")\n                resolve(false)\n            }\n        })\n    }\n\n\n    static checkBrowserSupport() {\n        if (!('Notification' in window)) {\n            console.log(\"This browser does not support notifications.\");\n            return {\n                message: \"El navegador no soporta notificaciones\",\n                status: 0\n            }\n        }\n\n        else if (!('serviceWorker' in navigator)) {\n            console.log(\"This browser does not support serviceWorkers.\");\n            return {\n                message: \"El navegador no soporta serviceWorkers para las notificaciones\",\n                status: 0\n            }\n        }\n\n        else if (!('showNotification' in ServiceWorkerRegistration.prototype)) {\n            console.warn('Notifications aren\\'t supported. on serviceWorkers');\n            return {\n                message: \"El navegador no soporta serviceWorkers para las notificaciones\",\n                status: 0\n            }\n        }\n\n        else if (!('PushManager' in window)) {\n            console.warn('Push messaging isn\\'t supported.');\n            return {\n                message: \"El navegador no soporta notificaciones (WebPushNotifications)\",\n                status: 0\n            }\n        }\n\n        return {\n            message: \"El navegador soporta las notificaciones\",\n            status: 1\n        }\n    }\n\n    static async askNotificationPermission() {\n        const browserSupport = NotificationManager.checkBrowserSupport()\n        if (browserSupport.status === 0) {\n            return browserSupport\n        }\n\n        await Notification.requestPermission()\n\n        if (Notification.permission === 'denied' || Notification.permission === 'default') {\n            return {\n                message: \"No se ha brindado el permiso para enviar notificaciones\",\n                status: 0\n            }\n        }\n        return {\n            message: \"Permiso para las notificaciones concedido\",\n            status: 1\n        }\n\n    }\n\n    static async subscribe() {\n        if (await NotificationManager.subscribed === true) {\n            return {\n                message: \"Ya se encuentra suscrito\",\n                status: 0\n            }\n        }\n\n        const permisson = await NotificationManager.askNotificationPermission()\n        if (permisson.status === 0) {\n            return permisson\n        }\n\n        const serviceWorkerRegistration = await navigator.serviceWorker.ready\n\n        function urlBase64ToUint8Array(base64String) {\n            var padding = '='.repeat((4 - base64String.length % 4) % 4);\n            var base64 = (base64String + padding)\n                .replace(/-/g, '+')\n                .replace(/_/g, '/');\n\n            var rawData = window.atob(base64);\n            var outputArray = new Uint8Array(rawData.length);\n\n            for (var i = 0; i < rawData.length; ++i) {\n                outputArray[i] = rawData.charCodeAt(i);\n            }\n            return outputArray;\n        }\n\n        await serviceWorkerRegistration.pushManager.subscribe({\n            userVisibleOnly: true,\n            applicationServerKey: urlBase64ToUint8Array(\n                'BFp4VA9Bq1QWQpFVYL8mfQYgEq4BJXIYP3j7mjmMymlc8euQDJJBYTVGO3NEyjSc0TIsoIfbBXaya63duK8KoGY'\n            )\n        })\n\n        const subscription = await serviceWorkerRegistration.pushManager.getSubscription()\n\n        NotificationsAPI.sendSubscription(subscription.toJSON())\n\n        return {\n            message: \"Suscrito a notificaciones\",\n            status: 1\n        }\n    }\n\n    static async unsubscribe() {\n        if (await NotificationManager.subscribed === false) {\n            return\n        }\n        const serviceWorkerRegistration = await navigator.serviceWorker.ready\n\n        const subscription = await serviceWorkerRegistration.pushManager.getSubscription()\n\n        NotificationsAPI.deleteSubscription(subscription.toJSON())\n\n        subscription.unsubscribe()\n    }\n}\n\nexport default NotificationManager\n","import APIUtils from \"../common/APIUtils\";\nimport { API_URL } from \"../env\";\n\nexport default class GamesAPI {\n  static module = \"games\";\n\n  static async get(id) {\n    try {\n      return await APIUtils.GET(`${API_URL}/${GamesAPI.module}/${id}`);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  static async getGames() {\n    try {\n      return await APIUtils.GET(`${API_URL}/${GamesAPI.module}/`);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  static async getGamesWithDiscount(quantity = 6, games = undefined) {\n    if (!games) {\n      const response = await GamesAPI.getGames();\n      if (response.ok) {\n        games = (await response.json()).data;\n      }\n    }\n    if (games) {\n      return [...games]\n        .sort((a, b) => {\n          if (a.discounts === undefined)\n            a.discounts = Object.values(a.stores)\n              .map((store, i) =>\n                store.status === 1\n                  ? store.discount !== \"0%\"\n                    ? {\n                        store: Object.keys(a.stores)[i],\n                        discount: Number(store.discount.replace(\"%\", \"\")),\n                      }\n                    : null\n                  : null\n              )\n              .filter((a) => a != null)\n              .sort((a, b) => b.discount - a.discount);\n          if (b.discounts === undefined)\n            b.discounts = Object.values(b.stores)\n              .map((store, i) =>\n                store.status === 1\n                  ? store.discount !== \"0%\"\n                    ? {\n                        store: Object.keys(b.stores)[i],\n                        discount: Number(store.discount.replace(\"%\", \"\")),\n                      }\n                    : null\n                  : null\n              )\n              .filter((a) => a != null)\n              .sort((a, b) => b.discount - a.discount);\n\n          if (a.discounts.length > 0 && b.discounts.length > 0) {\n            return b.discounts[0].discount > a.discounts[0].discount ? 1 : -1;\n          }\n\n          if (a.discounts.length > 0) {\n            return -1;\n          }\n          if (b.discounts.length > 0) {\n            return 1;\n          }\n\n          return 0;\n        })\n        .slice(0, quantity - 1);\n    }\n  }\n\n  static orderGamesStoresByPrice(games) {\n    games.forEach((game) => {\n      game.stores = Object.fromEntries(\n        Object.entries(game.stores)\n          .filter(([,store]) => store.status === 1)\n          .sort(([, a], [, b]) => a.price - b.price)\n      );\n    });\n  }\n}\n","import { Paper } from \"@material-ui/core\"\nimport { Link } from 'react-router-dom';\n\n\nconst GameItem = (props) => {\n\n\n\n    return <Paper className=\"game-item-container\" elevation={3}>\n        <img src={props.game.image_url} alt={\"Imagen de \" + props.game.name} className=\"game-item-img\" />\n        <div style={{ display: 'flex', flexDirection: 'column', width: '200px', height: '100%' }}>\n            <Link className=\"game-item-title\" to={\"/games/\" + props.game.id}>\n                {props.game.name}\n            </Link>\n            <div className=\"game-item-details\">\n                {props.game.discounts.length > 0 ? (\n                    <a href={props.game.stores_urls[props.game.discounts[0].store]} target=\"_blank\" rel=\"noreferrer\" className=\"game-item-discount-container\">\n                        <div className=\"game-item-discount-price\">\n\n                            <div>\n                                <span>\n                                    ${props.game.stores[props.game.discounts[0].store].price}\n                                </span>\n                            </div>\n                            <div>\n\n                                <span>\n                                    -\n                                </span>\n                                {props.game.discounts[0].discount}\n                                <span>\n                                    %\n                                </span>\n                            </div>\n                        </div>\n                        <div className=\"game-item-discount-store\">En {props.game.discounts[0].store.replace(\"_\", \" \").toUpperCase()}</div>\n                    </a>\n                ) : (\n                    <a href={Object.values(props.game.stores_urls)[0]} target=\"_blank\" rel=\"noreferrer\" className=\"game-item-discount-container\">\n                        <div className=\"game-item-discount-price\">\n                            <div>\n                                ${Object.values(props.game.stores)[0].price}\n                            </div>\n                        </div>\n                        <div className=\"game-item-discount-store\">En {Object.keys(props.game.stores)[0].replace(\"_\", \" \").toUpperCase()}</div>\n                    </a>\n                )}\n            </div>\n        </div>\n    </Paper>\n}\n\nexport default GameItem","import React, { useEffect, useState } from 'react'\nimport GamesAPI from './GamesAPI'\n\n\nimport './Games.css'\nimport GameItem from './GameItem'\nimport { InputAdornment, OutlinedInput, Paper } from '@material-ui/core'\nimport SearchIcon from '@material-ui/icons/Search';\n\nlet gamesWithoutFilter = []\n\nconst Games = (props) => {\n    const [filter, setFilter] = useState('')\n\n    const [games, setGames] = useState([])\n\n    const [gamesDiscount, setGamesDiscount] = useState([])\n\n    const [loadingGames, setLoadingGames] = useState(false)\n\n    \n\n    useEffect(() => {\n        async function getGames() {\n            setLoadingGames(true)\n            const response = await GamesAPI.getGames()\n            if (response.ok) {\n                const newGames = (await response.json()).data\n                const discountGames = await GamesAPI.getGamesWithDiscount(5, newGames)\n                GamesAPI.orderGamesStoresByPrice(newGames)\n                console.log(newGames)\n                setGames(newGames)\n                gamesWithoutFilter = newGames;\n\n                setGamesDiscount(discountGames)\n            }\n            setLoadingGames(false)\n        }\n        getGames();\n    }, [props])\n\n    useEffect(() => {\n        setGames(gamesWithoutFilter.filter(game => game.name.toLowerCase().includes(filter.toLowerCase())))\n    }, [filter])\n\n    const handleFilterInput = (e) => {\n        setFilter(e.target.value)\n    }\n\n\n\n    return <div className=\"games-container\">\n        <h1 className=\"games-container-title\">Mayores descuentos</h1>\n        <div className=\"games-items-container\">\n            {gamesDiscount.map(game => (\n                <GameItem key={game.id} game={game}></GameItem>\n            ))}\n\n            {loadingGames === true ? (\n                [...Array(6).keys()].map(i => <Paper key={i} className=\"game-item-container\" elevation={3}>\n                        <div className=\"game-item-img loading\"></div>\n                    </Paper>\n                )\n            ) : null}\n        </div>\n        <div style={{ display: \"flex\", justifyContent: \"space-between\", flexWrap: \"wrap\"}}>\n            <h1 className=\"games-container-title\">Todos los juegos</h1>\n            <OutlinedInput placeholder=\"Buscar juego...\" className=\"games-search\" onChange={handleFilterInput} variant=\"outlined\"\n            endAdornment={\n                <InputAdornment position=\"end\">\n                    <SearchIcon></SearchIcon>\n                </InputAdornment>\n              }\n            style={{margin: \"auto 0\", width: \"50%\", minWidth: \"200px\"}}></OutlinedInput>\n        </div>\n        <div className=\"games-items-container\">\n            {games.map(game => (\n                <GameItem key={game.id} game={game}></GameItem>\n            ))}\n            {loadingGames === true ? (\n                [...Array(6).keys()].map(i => <Paper key={i} className=\"game-item-container\" elevation={3}>\n                        <div className=\"game-item-img loading\"></div>\n                    </Paper>\n                )\n            ) : null}\n        </div>\n    </div>\n}\n\nexport default Games","import { useEffect, useState } from \"react\";\nimport GamesAPI from \"./GamesAPI\";\nimport LocalGroceryStoreIcon from \"@material-ui/icons/LocalGroceryStore\";\nimport { Paper } from \"@material-ui/core\";\n\nconst Game = (props) => {\n  const [game, setGame] = useState({ stores: {} });\n\n  const [loading, setLoading] = useState(false);\n\n  const id = props.match.params.id;\n\n  useEffect(() => {\n    async function getGame() {\n      setLoading(true);\n      const response = await GamesAPI.get(id);\n      if (response.ok) {\n        let gameInfo = await response.json();\n        GamesAPI.orderGamesStoresByPrice([gameInfo]);\n        setGame(gameInfo);\n      }\n      setLoading(false);\n    }\n    getGame();\n  }, [id]);\n\n  console.log(game);\n\n  return !loading ? (\n    <div className=\"game-container\">\n      <div>\n        <img\n          src={game.image_url}\n          alt={\"Imagen de \" + game.name}\n          className=\"game-img\"\n        />\n      </div>\n      <div>\n        <h1 className=\"game-container-title\">{game.name}</h1>\n        <div style={{ display: \"flex\", flexWrap: \"wrap\", width: \"100%\" }}>\n          {game.hltb !== undefined ? (\n            <a\n              className=\"game-hltb-container\"\n              href={`https://howlongtobeat.com/game?id=${game.hltb_game_id}`}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              <img src=\"assets/images/hltb.png\" alt=\"\" />\n              <h3>{Object.keys(game.hltb[0])[1].replace(\"-\", \" \")}</h3>\n\n              {game.hltb.map((value) => (\n                <div className=\"game-hltb-item\" key={Object.values(value)[1]}>\n                  <div>{Object.values(value)[1]}</div>\n                  <div>{value.Average}</div>\n                </div>\n              ))}\n            </a>\n          ) : (\n            \"\"\n          )}\n          {game.metacritic !== undefined ? (\n            <a\n              className=\"game-metacritic-container\"\n              href={game.metacritic_url}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              <img src=\"assets/images/metacritic.png\" alt=\"\" />\n              <div>\n                <h4>Metascore</h4>\n                <div\n                  className=\"game-metascore-container\"\n                  score={\n                    Number(game.metacritic.metascore) >= 75\n                      ? \"nice\"\n                      : Number(game.metacritic.metascore) < 50\n                      ? \"bad\"\n                      : \"regular\"\n                  }\n                >\n                  {game.metacritic.metascore}\n                </div>\n              </div>\n              <div>\n                <h4>Userscore</h4>\n                <div\n                  className=\"game-userscore-container\"\n                  score={\n                    Number(game.metacritic.userscore) >= 7.5\n                      ? \"nice\"\n                      : Number(game.metacritic.userscore) < 5.0\n                      ? \"bad\"\n                      : \"regular\"\n                  }\n                >\n                  {game.metacritic.userscore}\n                </div>\n              </div>\n            </a>\n          ) : (\n            \"\"\n          )}\n\n          <div className=\"game-stores-container\">\n            <div className=\"game-stores-icon\">\n              <LocalGroceryStoreIcon></LocalGroceryStoreIcon>\n            </div>\n            {Object.entries(game.stores).map(([store, info], i) => (\n              <a\n                href={game.stores_urls[store]}\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                style={{ textDecoration: \"none !important\" }}\n                key={store}\n              >\n                <Paper className=\"game-store-item\">\n                  <img src={`assets/images/${store}.png`} alt=\"\" />\n                  <div className=\"game-store-price-details\">\n                    <span>\n                      {info.discount !== \"0%\" ? \"-\" + info.discount : \"\"}\n                    </span>\n                    <div>\n                      {info.discount !== \"0%\" ? (\n                        <div>\n                          $\n                          {(\n                            (info.price * 100) /\n                            (100 - Number(info.discount.replace(\"%\", \"\")))\n                          ).toFixed(2)}\n                        </div>\n                      ) : (\n                        \"\"\n                      )}\n                      ${info.price}\n                    </div>\n                  </div>\n                </Paper>\n              </a>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  ) : (\n    <div className=\"game-container\">\n      <div>\n        <div className=\"game-img loading\"></div>\n      </div>\n      <div>\n        <div className=\"game-container-title loading\" style={{width: '80%', height: '64px'}}></div>\n      </div>\n    </div>\n  );\n};\n\nexport default Game;\n","import React from 'react';\nimport Paper from '@material-ui/core/Paper';\n\nimport './Main.css'\nimport { Redirect, Route, HashRouter as Router, Switch as RouterSwitch } from 'react-router-dom';\nimport { AppBar, Switch, Toolbar, Typography } from '@material-ui/core';\nimport NotificationManager from '../common/notificationsManager';\nimport Games from '../games/Games';\nimport Game from '../games/Game';\n\n\nconst Main = () => {\n\n    //const match = useRouteMatch()\n\n    const [checked, setChecked] = React.useState(false)\n    \n    NotificationManager.subscribed.then(\n        value => setChecked(value)\n    )\n\n    async function toggleChecked(){\n        if(!checked){\n            const response = await NotificationManager.subscribe()\n            if(response.status === 1){\n                setChecked(prev => !prev)\n            }\n            else{\n                console.log(response.message)\n            }\n        }\n        else {\n            const response = await NotificationManager.unsubscribe()\n            console.log(response)\n            setChecked(prev => !prev)\n        }\n\n    }\n\n\n\n    return <div className=\"main-container\">\n        <AppBar position=\"static\" className=\"appbar\">\n            <Toolbar style={{display: \"flex\", justifyContent: \"space-between\"}}>\n                <a href=\"#/games\" style={{display: \"flex\"}}>\n                    <img src=\"assets/images/white-icon-512x512.png\" alt=\"\" className=\"toolbar-icon\" srcSet=\"assets/images/icon.svg\"/>\n                    <Typography variant=\"h6\" className=\"main-title\" >\n                        gamehub\n                    </Typography>\n                </a>\n                <div style={{display: \"flex\"}}>\n                    <span style={{marginRight: \"10px\"}}>\n                        Notificaciones\n                    </span>     \n                    <Switch size=\"small\" checked={checked} onChange={toggleChecked} color=\"secondary\" />\n                </div>\n            </Toolbar>\n        </AppBar>\n        <div style={{ display: \"flex\", height: \"min-content\", backgroundColor: \"#f5f5f5\", paddingBottom: '50px' }}>\n\n            <Paper style={{ width: \"95%\", margin: \"10px auto\", height: \"min-content\"}} elevation={3}>\n                <Router>\n                    <RouterSwitch>\n                        <Route path=\"/games\" exact={true}>\n                            <Games></Games>\n                        </Route>\n                        <Route path=\"/games/:id\" exact={true} component={Game}>\n                        </Route>\n                        <Redirect path=\"\" to=\"/games\" />\n                    </RouterSwitch>\n                </Router>\n            </Paper>\n        </div>\n    </div >\n}\n\nexport default Main","import './App.css';\nimport { createMuiTheme, MuiThemeProvider } from '@material-ui/core';\nimport Main from './main/Main';\n\nfunction App() {\n\n  const theme = createMuiTheme({\n    palette: {\n      primary: {\n        main: '#5A3E87'\n      },\n      secondary: {\n        main: '#FFFFFF'\n      }\n    }\n  });\n\n  return (\n    <MuiThemeProvider theme={theme}>\n        <div className=\"App\">\n          <Main></Main>\n        </div>\n    </MuiThemeProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}