self.addEventListener('push', function(e) {
    var data;
  
    if (e.data) {
      data = JSON.parse(e.data.text());
    } else {
      data = {
        title: "Descuento en un juegazo",
        body: "Revisa nuestra p√°gina",
        icon: 'data:image/jpeg;base64,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'
      };
    }
  
    var options = {
      body: data.body,
      icon: data.icon,
      vibrate: [100, 50, 100],
      data: {
        dateOfArrival: Date.now(),
        primaryKey: 1
      },
      actions: [
        {action: 'explore', title: 'Ver descuento'}
      ]
    };
    e.waitUntil(
      self.registration.showNotification(data.title, options)
    );
  });